cameras:
    camera1:
        type: isometric
        axis: [0, .5]
styles:
    uvs:
        base: polygons
        material:
            diffuse:
                texture: uv-grid.png
                mapping: planar
                scale: 0.005

lights:
    # light1:
    #     type: directional
    #     direction: [-.5, -.5, -.5]
    #     diffuse: .5
    #     ambient: .5
    light2:
        type: point
        origin: camera
        position: [0, -1000px, 0px]
        diffuse: 1
        radius: [1000px, 1700px]
        # attenuation: .01
    # light3:
    #     type: point
    #     position: [0, 0, 100px]
    #     origin: ground

        
sources:
    mapzen:
        type: TopoJSON
        url: https://tile.mapzen.com/mapzen/vector/v1/all/{z}/{x}/{y}.topojson?api_key=mapzen-QF1osLn
        max_zoom: 16

layers:
    earth:
        data:
            source: mapzen
            layer: earth
        draw:
            polygons:
                order:order: function() { return feature.sort_rank; }
                color: '#ddeeee'
    landuse:
        data:
            source: mapzen
            layer: landuse
        draw:
            polygons:
                order: function() { return feature.sort_rank; }
                color: '#aabbaa'
                interactive: true

    water:
        data:
            source: mapzen
            layer: water
        draw:
            polygons:
                order: function() { return feature.sort_rank; }
                color: [.7,.7,1]

    roads:
        data:
            source: mapzen
            layer: roads
        filter: { not: { kind: [rail, ferry, path] } }
        draw:
            lines:
                order: function() { return feature.sort_rank; }
                color: gray    
                width: 8
    
    buildings:
        data:
            source: mapzen
            layer: buildings
        draw:
            polygons:
                style: uvs
                order: function() { return feature.sort_rank; }
                color: [1,1,1]
                extrude: true
